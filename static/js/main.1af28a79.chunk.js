(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,r,t){e.exports=t(17)},17:function(e,r,t){"use strict";t.r(r);var a=t(0),n=t.n(a),c=t(3),i=t.n(c),l=t(4),u=t(5),s=t(8),d=t(6),o=t(9),m=t(7);t(2);function h(e){return n.a.createElement("div",{className:"menu"},n.a.createElement("form",{onSubmit:e.handleSubmit},Object.keys(e.menu).map(function(r){return n.a.createElement("fieldset",{key:r},n.a.createElement("legend",null,r.toUpperCase()),e.menu[r].map(function(t){return n.a.createElement("div",{key:t.id},n.a.createElement("label",{htmlFor:t.id,key:t.id},n.a.createElement("input",{className:t.name,key:t.id,name:r,value:t.name,type:"radio",checked:e.areRadioChecked,onChange:e.handleRadio}),t.name))}))}),e.user<3?n.a.createElement("button",null,"Order"):null))}function f(e){return e.toLocaleString("en-GB",{style:"currency",currency:"GBP"})}function p(e){var r;r=0!==Object.keys(e.currentOrder).length?Object.values(e.currentOrder).reduce(function(e,r){return e+r.price},0):0;var t=Object.values(e.order).reduce(function(e,r){return e+Object.values(r).reduce(function(e,r){return e+r.price},0)},0);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,e.user<3?n.a.createElement("div",{className:"current-order"},n.a.createElement("h3",null,"Current Order for Guest ",e.user),n.a.createElement("label",null,f(r))," "):null),n.a.createElement("div",{className:"final-order"},n.a.createElement("h3",null,"Final Order"),n.a.createElement("label",null,f(t))))}function k(e){return n.a.createElement("div",{className:"message"},e.error)}var v=function(e){function r(){var e;return Object(l.a)(this,r),(e=Object(s.a)(this,Object(d.a)(r).call(this))).changeRadio=function(){e.setState({areRadioChecked:null})},e.handleRadio=function(r){var t=r.target.name,a=e.state.menu[t].find(function(e){return e.name===r.target.value}),n=e.state.currentOrder;n[t]=a,e.setState({currentOrder:n,error:!1})},e.handleSubmit=function(r){r.preventDefault();var t=e.state,a=t.currentOrder,n=t.order,c=t.user,i=e.restaurantRules();i?a={}:(n[c]=a,c+=1),e.setState({order:n,currentOrder:{},error:i,user:c,areRadioChecked:!1}),c<3&&setTimeout(function(){e.changeRadio()},0,1)},e.state={menu:{},user:1,currentOrder:{},order:{},error:!1,areRadioChecked:null},e}return Object(o.a)(r,e),Object(u.a)(r,[{key:"componentDidMount",value:function(){this.setState({menu:m})}},{key:"restaurantRules",value:function(){var e=this.state,r=e.currentOrder,t=e.error,a=e.user,n=e.order,c=Object.keys(r).length<2,i=!r.mains;if(2===a&&n[1].desserts&&r.desserts)"Cheesecake"===n[1].desserts.name&&"Cheesecake"===r.desserts.name&&(t="We are sorry, but cheesecakes are out of stock");else if(c)t="Please order at least two dishes";else if(i)t="Please order main dish";else if(r.starters&&r.mains){"Prawn cocktail"===r.starters.name&&"Salmon fillet"===r.mains.name&&(t="We are sorry, but you can't have Salmon fillet with prawn cocktail!")}return t}},{key:"render",value:function(){var e=this.state,r=e.menu,t=e.areRadioChecked,a=e.user,c=e.order,i=e.currentOrder,l=e.error;return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"interface"},n.a.createElement(h,{menu:r,handleRadio:this.handleRadio,handleSubmit:this.handleSubmit,areRadioChecked:t,user:a}),n.a.createElement(p,{currentOrder:i,order:c,user:a}),n.a.createElement("br",null)),l&&n.a.createElement("div",{className:"error-message"},n.a.createElement(k,{error:l})))}}]),r}(n.a.Component);i.a.render(n.a.createElement(v,null),document.getElementById("root"))},2:function(e,r,t){},7:function(e){e.exports={starters:[{id:1,name:"Soup",price:3},{id:2,name:"P\xe2t\xe9",price:5},{id:3,name:"Bruschetta",price:4.5},{id:4,name:"Prawn cocktail",price:6}],mains:[{id:5,name:"Steak",price:18},{id:6,name:"Meatballs",price:11.5},{id:7,name:"Salmon fillet",price:14},{id:8,name:"Vegetarian lasagna",price:12}],desserts:[{id:9,name:"Sticky toffee",price:18},{id:10,name:"Tiramisu",price:4.5},{id:11,name:"Cheesecake",price:4},{id:12,name:"Ice cream",price:3.5}]}}},[[10,2,1]]]);
//# sourceMappingURL=main.1af28a79.chunk.js.map